<div class="d-grid gap-2 d-md-block">
  <button mat-raised-button color="primary" (click)="addUser()">
    Add User
  </button>
  <button mat-raised-button color="primary" (click)="editUser(1, 'admin', 'admin', 60000)">
    Edit Admin Profile
  </button>
</div>
<h2 class="h2 text-center">Employees</h2>
<div class="container-md table-wrapper">
  <table class="table table-hover">
    <thead class="overflow-scroll">
      <tr>
        <th>ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Role</th>
        <th>Status</th>
        <th>Date of Joining</th>
        <th>Last Login</th>
        <th colspan="3">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td data-label="ID">{{ user.id }}</td>
        <td data-label="Username">{{ user.username }}</td>
        <td data-label="Email">{{ user.email }}</td>
        <td data-label="Role">{{ user.role }}</td>
        <td data-label="Status">
          <button
            type="button"
            class="btn"
            [ngClass]="{
              'btn-success': user.Status === 'Active',
              'btn-danger': user.Status === 'Inactive'
            }"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Tooltip on top"
            (click)="changeStatus(user.id, user.Status)"
          >
            <i
              [ngClass]="{
                'bi bi-wifi': user.Status === 'Active',
                'bi bi-wifi-off': user.Status === 'Inactive'
              }"
            ></i>
          </button>
        </td>
        <td data-label="Date of Joining">{{ user.date_of_joining | date }}</td>
        <td data-label="Last Login">
          {{ user.last_login | date : "shortTime" }}
        </td>
        <td data-label="Actions" *ngIf="user.username !== 'admin'">
          <button
            (click)="editUser(user.id, user.username, user.role, user.salary)"
            class="btn btn-primary"
          >
            <i class="bi bi-pen"></i>
          </button>
          <button (click)="deleteUser(user.id)" class="btn btn-outline-danger">
            <i class="bi bi-trash-fill"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
